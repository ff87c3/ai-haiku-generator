const OpenAI=require("openai"),openai=new OpenAI({apiKey:"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"});module.exports=async(e,o)=>{if("POST"===e.method)try{const e=await openai.chat.completions.create({model:"gpt-3.5-turbo-0125",temperature:.7,max_tokens:20,messages:[{role:"user",content:"Write a haiku"}]});o.json({haiku:e.choices[0].message.content})}catch(e){console.error("OpenAI API error:",e.response?e.response.data:e.message),o.status(500).json({error:"Error generating haiku"})}else o.setHeader("Allow",["POST"]),o.status(405).end(`Method ${e.method} Not Allowed`)};