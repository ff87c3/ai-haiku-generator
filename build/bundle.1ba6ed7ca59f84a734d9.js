(()=>{var e={374:()=>{document.getElementById("generate-btn-eng").addEventListener("click",(function(){speechSynthesis.cancel();const t=document.querySelector("#loader");t.style.display="block";const n=document.querySelector("#haiku-output");n.innerHTML="",n.classList.remove("vertical-text"),n.classList.remove("fade-blur"),n.classList.add("flipped-text"),fetch("/api/haiku-serverless-eng",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((o=>{t.style.display="none",n.classList.add("fade-blur"),n.innerText=o.haiku,console.log(o.haiku),function(t){const n=document.getElementById("haiku-output").innerHTML;console.log(n);const o=n.split("<br>"),s=[];o.forEach(((t,n)=>{const r=new SpeechSynthesisUtterance(t);r.rate=.8,r.pitch=.8,r.lang="en-US",-1!==navigator.userAgent.indexOf("Chrome")?r.voice=e[33]:-1!==navigator.userAgent.indexOf("Safari")?r.voice=e[28]:r.voice=e[33],n<o.length-1&&(r.onboundary=e=>{"word"===e.name&&e.charIndex+e.charLength===t.length&&setTimeout((()=>{const e=new SpeechSynthesisUtterance(" ");window.speechSynthesis.speak(e)}),3e3)}),s.push(r)})),s.reduce(((e,t)=>e.then((()=>new Promise((e=>{window.speechSynthesis.speak(t),t.onend=e}))))),Promise.resolve())}(o.haiku)})).catch((e=>{console.error("Error:",e)}))}));let e=null;window.onload=function(){e=window.speechSynthesis.getVoices(),0===e.length&&(window.speechSynthesis.onvoiceschanged=()=>{e=window.speechSynthesis.getVoices()})}},550:()=>{document.getElementById("generate-btn-jp").addEventListener("click",(function(){speechSynthesis.cancel();const e=document.querySelector("#loader");e.style.display="block";const t=document.querySelector("#haiku-output");t.innerHTML="",t.classList.add("vertical-text"),t.classList.remove("fade-blur"),t.classList.remove("flipped-text"),fetch("/api/haiku-serverless-jp",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((n=>{e.style.display="none",t.classList.add("fade-blur");const o=n.haiku.replace(/\s/g,"\n");t.innerText=o,console.log(n.haiku),function(e){const t=new SpeechSynthesisUtterance(e);t.lang="ja-JP";const n=window.speechSynthesis.getVoices().find((e=>"ja-JP"===e.lang));n&&(t.voice=n),t.rate=.6,window.speechSynthesis.speak(t)}(n.haiku)})).catch((e=>{console.error("Error:",e)}))}))}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(374),n(550)})()})();