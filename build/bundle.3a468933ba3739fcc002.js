(()=>{var e={374:()=>{document.getElementById("generate-btn-eng").addEventListener("click",(function(){speechSynthesis.cancel();const n=document.querySelector("#loader");n.style.display="block";const t=document.querySelector("#haiku-output");t.innerHTML="",t.classList.remove("vertical-text"),t.classList.remove("fade-blur"),fetch("/api/haiku-serverless-eng",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((o=>{n.style.display="none",t.classList.add("fade-blur"),t.innerText=o.haiku,console.log(o.haiku),function(n){const t=document.getElementById("haiku-output").innerHTML;console.log(t);const o=t.split("<br>"),s=[];o.forEach(((n,t)=>{const r=new SpeechSynthesisUtterance(n);r.rate=.8,r.pitch=.8,r.lang="en-US",-1!==navigator.userAgent.indexOf("Chrome")?r.voice=e[33]:-1!==navigator.userAgent.indexOf("Safari")?r.voice=e[28]:r.voice=e[33],t<o.length-1&&(r.onboundary=e=>{"word"===e.name&&e.charIndex+e.charLength===n.length&&setTimeout((()=>{const e=new SpeechSynthesisUtterance(" ");window.speechSynthesis.speak(e)}),3e3)}),s.push(r)})),s.reduce(((e,n)=>e.then((()=>new Promise((e=>{window.speechSynthesis.speak(n),n.onend=e}))))),Promise.resolve())}(o.haiku)})).catch((e=>{console.error("Error:",e)}))}));let e=null;window.onload=function(){e=window.speechSynthesis.getVoices(),0===e.length&&(window.speechSynthesis.onvoiceschanged=()=>{e=window.speechSynthesis.getVoices()})}},550:()=>{document.getElementById("generate-btn-jp").addEventListener("click",(function(){speechSynthesis.cancel();const e=document.querySelector("#loader");e.style.display="block";const n=document.querySelector("#haiku-output");n.innerHTML="",n.classList.add("vertical-text"),n.classList.remove("fade-blur"),fetch("/api/haiku-serverless-jp",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{e.style.display="none",n.classList.add("fade-blur");const o=t.haiku.replace(/\s/g,"\n");n.innerText=o,console.log(t.haiku),function(e){const n=new SpeechSynthesisUtterance(e);n.lang="ja-JP";const t=window.speechSynthesis.getVoices().find((e=>"ja-JP"===e.lang));t&&(n.voice=t),n.rate=.6,window.speechSynthesis.speak(n)}(t.haiku)})).catch((e=>{console.error("Error:",e)}))}))}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";t(374),t(550)})()})();