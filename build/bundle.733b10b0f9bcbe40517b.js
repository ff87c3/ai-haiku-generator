(()=>{var e={627:()=>{document.getElementById("generate-btn-de").addEventListener("click",(function(){speechSynthesis.cancel();const e=document.querySelector("#loader");e.style.display="block";const n=document.querySelector("#haiku-output");n.innerHTML="",n.classList.remove("vertical-text"),n.classList.remove("fade-blur"),n.classList.add("flipped-text"),fetch("/api/haiku-serverless-de",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{console.log(t.haiku),e.style.display="none",n.classList.add("fade-blur");const r=function(e){return e.split("\n").slice(0,3).join("\n")}(t.haiku);n.innerText=r,function(e){let n="";const t=document.querySelector("#current-word"),r=document.getElementById("haiku-output").innerHTML.split("<br>"),o=[];r.forEach(((e,s)=>{const c=new SpeechSynthesisUtterance(e);c.rate=.8,c.pitch=.8,c.lang="de-DE",c.onboundary=o=>{"word"===o.name&&(n=e.substring(o.charIndex,o.charIndex+o.charLength),t.innerHTML=n),s<r.length-1&&"word"===o.name&&o.charIndex+o.charLength===e.length&&setTimeout((()=>{const e=new SpeechSynthesisUtterance(" ");window.speechSynthesis.speak(e)}),3e3)},o.push(c)})),o.reduce(((e,n)=>e.then((()=>new Promise((e=>{window.speechSynthesis.speak(n),n.onend=e}))))),Promise.resolve()).then((()=>{t.innerHTML=""}))}()})).catch((e=>{console.error("Error:",e)}))}))},374:()=>{document.getElementById("generate-btn-eng").addEventListener("click",(function(){speechSynthesis.cancel();const n=document.querySelector("#loader");n.style.display="block";const t=document.querySelector("#haiku-output");t.innerHTML="",t.classList.remove("vertical-text"),t.classList.remove("fade-blur"),t.classList.add("flipped-text"),fetch("/api/haiku-serverless-eng",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((r=>{console.log(r.haiku),n.style.display="none",t.classList.add("fade-blur");const o=function(e){return e.split("\n").slice(0,3).join("\n")}(r.haiku);t.innerText=o,function(n){let t="";const r=document.querySelector("#current-word"),o=document.getElementById("haiku-output").innerHTML.split("<br>"),s=[];o.forEach(((n,c)=>{const i=new SpeechSynthesisUtterance(n);i.rate=.8,i.pitch=.8,i.lang="en-GB",-1!==navigator.userAgent.indexOf("Chrome")?i.voice=e[33]:-1!==navigator.userAgent.indexOf("Safari")?i.voice=e[28]:i.voice=e[33],i.onboundary=e=>{"word"===e.name&&(t=n.substring(e.charIndex,e.charIndex+e.charLength),r.innerHTML=t),c<o.length-1&&"word"===e.name&&e.charIndex+e.charLength===n.length&&setTimeout((()=>{const e=new SpeechSynthesisUtterance(" ");window.speechSynthesis.speak(e)}),3e3)},s.push(i)})),s.reduce(((e,n)=>e.then((()=>new Promise((e=>{window.speechSynthesis.speak(n),n.onend=e}))))),Promise.resolve()).then((()=>{r.innerHTML=""}))}()})).catch((e=>{console.error("Error:",e)}))}));let e=null;window.onload=function(){e=window.speechSynthesis.getVoices(),0===e.length&&(window.speechSynthesis.onvoiceschanged=()=>{e=window.speechSynthesis.getVoices()})}},16:()=>{document.getElementById("generate-btn-fr").addEventListener("click",(function(){speechSynthesis.cancel();const e=document.querySelector("#loader");e.style.display="block";const n=document.querySelector("#haiku-output");n.innerHTML="",n.classList.remove("vertical-text"),n.classList.remove("fade-blur"),n.classList.add("flipped-text"),fetch("/api/haiku-serverless-fr",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{console.log(t.haiku),e.style.display="none",n.classList.add("fade-blur");const r=function(e){return e.split("\n").slice(0,3).join("\n")}(t.haiku);n.innerText=r,function(e){let n="";const t=document.querySelector("#current-word");document.getElementById("haiku-output").innerHTML.split("<br>").forEach(((e,r)=>{const o=new SpeechSynthesisUtterance(e);o.rate=.8,o.pitch=.8,o.lang="fr-FR",o.onboundary=r=>{"word"===r.name&&(n=e.substring(r.charIndex,r.charIndex+r.charLength),t.innerHTML=n)},window.speechSynthesis.speak(o),o.onend=()=>{t.innerHTML=""}}))}()})).catch((e=>{console.error("Error:",e)}))}))},550:()=>{document.getElementById("generate-btn-jp").addEventListener("click",(function(){speechSynthesis.cancel();const e=document.querySelector("#loader");e.style.display="block";const n=document.querySelector("#haiku-output");n.innerHTML="",n.classList.add("vertical-text"),n.classList.remove("fade-blur"),n.classList.remove("flipped-text"),document.querySelector("#current-word").innerHTML="",fetch("/api/haiku-serverless-jp",{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{console.log(t.haiku),e.style.display="none",n.classList.add("fade-blur");const r=function(e){return e.split("\n").slice(0,3).join("\n")}(t.haiku.replace(/\s/g,"\n"));n.innerText=r,function(e){let n="";const t=document.querySelector("#current-word"),r=new SpeechSynthesisUtterance(e);r.lang="ja-JP";const o=window.speechSynthesis.getVoices().find((e=>"ja-JP"===e.lang));o&&(r.voice=o),r.rate=.6,r.onboundary=r=>{"word"===r.name&&(n=e.substring(r.charIndex,r.charIndex+r.charLength),t.innerHTML=n,console.log("Currently speaking:",n))},r.onend=()=>{t.innerHTML=""},window.speechSynthesis.speak(r)}(r)})).catch((e=>{console.error("Error:",e)}))}))}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var s=n[r]={exports:{}};return e[r](s,s.exports,t),s.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";t(374),t(550),t(16),t(627)})()})();