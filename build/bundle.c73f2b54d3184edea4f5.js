(()=>{var e={374:()=>{document.getElementById("generate-btn-eng").addEventListener("click",(function(){const e=document.getElementById("haiku-output");e.classList.remove("vertical-text"),e.innerHTML="✴︎",e.classList.add("blink"),fetch("/api/haiku-serverless-eng",{method:"POST",headers:{"Content-Type":"application/json"}}).then((n=>{if(!n.ok)throw new Error("Network response was not ok");return e.innerHTML="",n.json()})).then((n=>{e.classList.remove("blink"),e.innerText=n.haiku,console.log(n.haiku),function(e){const n=document.getElementById("haiku-output").innerHTML;console.log(n);const t=n.split("<br>"),o=[];t.forEach(((e,n)=>{const s=new SpeechSynthesisUtterance(e);s.lang="ja-JP",s.rate=.8,s.pitch=.8,-1!=navigator.userAgent.indexOf("Chrome")?s.voice=speechSynthesis.getVoices()[33]:-1!=navigator.userAgent.indexOf("Safari")?s.voice=speechSynthesis.getVoices()[32]:s.voice=speechSynthesis.getVoices()[33],n<t.length-1&&(s.onboundary=n=>{"word"===n.name&&n.charIndex+n.charLength===e.length&&setTimeout((()=>{const e=new SpeechSynthesisUtterance(" ");window.speechSynthesis.speak(e)}),3e3)}),o.push(s)})),o.reduce(((e,n)=>e.then((()=>new Promise((e=>{window.speechSynthesis.speak(n),n.onend=e}))))),Promise.resolve())}(n.haiku)})).catch((e=>{console.error("Error:",e)}))}))},550:()=>{document.getElementById("generate-btn-jp").addEventListener("click",(function(){const e=document.getElementById("haiku-output");e.classList.add("vertical-text"),e.innerHTML="✴︎",e.classList.add("blink"),fetch("/api/haiku-serverless-jp",{method:"POST",headers:{"Content-Type":"application/json"}}).then((n=>{if(!n.ok)throw new Error("Network response was not ok");return e.innerHTML="",n.json()})).then((n=>{e.classList.remove("blink");const t=n.haiku.replace(/\s/g,"\n");e.innerText=t,console.log(n.haiku),function(e){const n=new SpeechSynthesisUtterance(e);n.lang="ja-JP";const t=window.speechSynthesis.getVoices().find((e=>"ja-JP"===e.lang));t&&(n.voice=t),n.rate=.6,window.speechSynthesis.speak(n)}(n.haiku)})).catch((e=>{console.error("Error:",e)}))}))}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";t(374),t(550)})()})();